(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{78:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var c,a,r,s,o=n(2),i=n.n(o),l=n(58),j=n.n(l),d=n(18),b=n(5),u=n(20),m=n(67),h=n(95),O=n(97),x=n(94),p=n(65),g=n(99),f=n(10),v=n(21),w=n(34),y=(n(59),n(3)),N=(n(78),w.a.div(c||(c=Object(v.a)(["\nposition: absolute;\n\nheight: ","px;\nwidth: ","px;\ntop: ","px;\nbackground: url('mvp.jfif');\n\nbackground-repeat: no-repeat;\n  background-size: 20px 20px;\nborder-radius: 50%"])),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.top}))),k=w.a.div(a||(a=Object(v.a)(["\n display: flex;\n width: 100%;\n justify-content: center;\n & span{\n  color: white;\n  font-size: 24px;\n  position: absolute;\n }\n"]))),S=w.a.div(r||(r=Object(v.a)(["\n height: ","px;\n width: ","px;\n background-color: cyan;\n overflow: hidden;\n"])),(function(e){return e.height}),(function(e){return e.width})),I=w.a.div(s||(s=Object(v.a)(["\nposition: relative;\ntop: ","px;  \nbackground-color: green;\nwidth: ","px;\nheight: ","px;\nleft: ","px;\n\n"])),(function(e){return e.top}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.left})),$=1e3,C=700;var F,E,U,_=function(){var e=Object(o.useState)(250),t=Object(f.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(!1),r=Object(f.a)(a,2),s=r[0],i=r[1],l=Object(o.useState)(100),j=Object(f.a)(l,2),d=j[0],b=j[1],u=Object(o.useState)(960),m=Object(f.a)(u,2),h=m[0],O=m[1],x=Object(o.useState)(0),p=Object(f.a)(x,2),g=p[0],v=p[1],w=480-d;return Object(o.useEffect)((function(){var e;return s&&n<680&&(e=setInterval((function(){c((function(e){return e+6}))}),24)),function(){clearInterval(e)}}),[n,s]),Object(o.useEffect)((function(){var e;if(s&&h>=-40)return e=setInterval((function(){O((function(e){return e-7}))}),24),function(){clearInterval(e)};O(960),b(Math.floor(480*Math.random())),v((function(e){return e+1}))}),[s,h]),Object(o.useEffect)((function(){h>=0&&h<=40&&h<=40&&(n<=500&&n>=500-w||n>=0&&n<d)&&(i(!1),v(-1))}),[n,d,w,h]),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(k,{onClick:function(){var e=n-100;s?c(e<0?0:e):i(!0)},children:[Object(y.jsxs)(S,{height:C,width:$,children:[Object(y.jsx)(I,{top:0,width:40,height:d,left:h}),Object(y.jsx)(I,{top:C-(d+w),width:40,height:w,left:h}),Object(y.jsx)(N,{size:20,top:n})]}),Object(y.jsxs)("span",{children:[" ",g," "]})]})})},z=n(96),L=Object(z.a)(F||(F=Object(v.a)(["\n  query user($username: String!, $password: String!) {\n    user(username: $username, password: $password) {\n      _id\n      username\n      password\n    }\n  }\n"]))),T=function(){var e=Object(g.a)(L),t=e.loading,n=e.data;return console.log(n),Object(y.jsx)("main",{className:"d-flex col-12",children:t?Object(y.jsx)("div",{children:"Loading..."}):Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)(_,{})})})},D=n(28),B=n(39),M=n(26),Y=n(92),q=Object(z.a)(E||(E=Object(v.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),J=Object(z.a)(U||(U=Object(v.a)(["\n  mutation addUser(\n    $username: String!\n    $password: String!\n  ) {\n    addUser(\n      username: $username\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),P=n(63),A=n(64),H=n(48),V=n.n(H),G=new(function(){function e(){Object(P.a)(this,e)}return Object(A.a)(e,[{key:"getUser",value:function(){return V()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return V()(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),K=function(){var e=Object(o.useState)({username:"",password:""}),t=Object(f.a)(e,2),n=t[0],c=t[1],a=Object(Y.a)(J),r=Object(f.a)(a,2),s=r[0],i=r[1],l=i.error,j=i.data,b=function(e){var t=e.target,a=t.name,r=t.value;c(Object(u.a)(Object(u.a)({},n),{},Object(M.a)({},a,r)))},m=function(){var e=Object(B.a)(Object(D.a)().mark((function e(t){var c,a;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s({variables:Object(u.a)({},n)});case 4:c=e.sent,a=c.data,G.login(a.addUser.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)("section",{className:" text-center text-lg-start",children:Object(y.jsx)("div",{className:"card mb-3",children:Object(y.jsxs)("div",{className:"row g-0 d-flex align-items-center",children:[Object(y.jsx)("div",{className:"col-lg-4 d-none d-lg-flex",children:Object(y.jsx)("img",{src:"https://image.shutterstock.com/image-vector/black-simple-finger-presses-on-260nw-618096680.jpg",alt:"Sign Up",className:"w-100 rounded-t-5 rounded-tr-lg-0 rounded-bl-lg-5"})}),Object(y.jsx)("div",{className:"col-lg-8",children:Object(y.jsxs)("div",{className:"card-body py-5 px-md-5",children:[j?Object(y.jsxs)("p",{children:["Success! You may now head"," ",Object(y.jsx)(d.b,{to:"/",children:"back to the homepage."})]}):Object(y.jsxs)("form",{onSubmit:m,children:[Object(y.jsxs)("div",{className:"form-outline mb-4",children:[Object(y.jsx)("input",{type:"text",placeholder:"Your username",name:"username",id:"username",className:"form-control",value:n.username,onChange:b}),Object(y.jsx)("label",{className:"form-label",htmlFor:"form2Example1",children:"Username"})]}),Object(y.jsxs)("div",{className:"form-outline mb-4",children:[Object(y.jsx)("input",{type:"password",name:"password",placeholder:"******",id:"password",className:"form-control",value:n.password,onChange:b}),Object(y.jsx)("label",{className:"form-label",htmlFor:"form2Example2",children:"Password"})]}),Object(y.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-4",style:{cursor:"pointer"},children:"Sign Up"})]}),l&&Object(y.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:l.message})]})})]})})})},Q=function(e){var t=Object(o.useState)({username:"",password:""}),n=Object(f.a)(t,2),c=n[0],a=n[1],r=Object(Y.a)(q),s=Object(f.a)(r,2),i=s[0],l=s[1],j=l.error,b=l.data,m=function(e){var t=e.target,n=t.name,r=t.value;a(Object(u.a)(Object(u.a)({},c),{},Object(M.a)({},n,r)))},h=function(){var e=Object(B.a)(Object(D.a)().mark((function e(t){var n,r;return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i({variables:Object(u.a)({},c)});case 4:n=e.sent,r=n.data,G.login(r.login.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:a({username:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)("section",{className:" text-center text-lg-start",children:Object(y.jsx)("div",{className:"card mb-3",children:Object(y.jsxs)("div",{className:"row g-0 d-flex align-items-center",children:[Object(y.jsx)("div",{className:"col-lg-4 d-none d-lg-flex",children:Object(y.jsx)("img",{src:"https://www.goscience.eu/common/img/login.jpg",alt:"Login",className:"w-100 rounded-t-5 rounded-tr-lg-0 rounded-bl-lg-5"})}),Object(y.jsx)("div",{className:"col-lg-8",children:Object(y.jsxs)("div",{className:"card-body py-5 px-md-5",children:[b?Object(y.jsxs)("p",{children:["Success! You may now head"," ",Object(y.jsx)(d.b,{to:"/",children:"back to the homepage."})]}):Object(y.jsxs)("form",{onSubmit:h,children:[Object(y.jsxs)("div",{className:"form-outline mb-4",children:[Object(y.jsx)("input",{placeholder:"username",name:"username",type:"text",className:"form-control",id:"username",onChange:m}),Object(y.jsx)("label",{className:"form-label",htmlFor:"username",children:"Username"})]}),Object(y.jsxs)("div",{className:"form-outline mb-4",children:[Object(y.jsx)("input",{placeholder:"******",name:"password",type:"password",className:"form-control",id:"pwd",onChange:m}),Object(y.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"})]}),Object(y.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-4",style:{cursor:"pointer"},children:"Login"})]}),j&&Object(y.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:j.message})]})})]})})})},R=function(){return Object(y.jsx)("header",{className:"bg-info text-dark mb-4 py-3 display-flex align-center",children:Object(y.jsxs)("div",{className:"container flex-column justify-space-between-lg justify-center align-center text-center",children:[Object(y.jsx)(d.b,{className:"text-dark",to:"/",children:Object(y.jsx)("h1",{className:"m-0",style:{fontSize:"3rem"},children:"Animal Crusade"})}),Object(y.jsx)("div",{children:G.loggedIn()?Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("button",{className:"btn btn-lg btn-light m-2",onClick:function(e){e.preventDefault(),G.logout()},children:"Logout"})}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.b,{className:"btn btn-lg btn-primary m-2",to:"/login",children:"Login"}),Object(y.jsx)(d.b,{className:"btn btn-lg btn-light m-2",to:"/signup",children:"Signup"})]})})]})})},W=function(){return Object(y.jsx)("footer",{children:Object(y.jsx)("div",{className:"footer-copyright text-center py-3 ",children:"\xa9 2022 Copyright: Henry Nguyen, Chelsea Burnham, Sufyaan Vaidya"})})},X=Object(m.a)({uri:"/graphql"}),Z=Object(p.a)((function(e,t){var n=t.headers,c=localStorage.getItem("id_token");return{headers:Object(u.a)(Object(u.a)({},n),{},{authorization:c?"Bearer ".concat(c):""})}})),ee=new h.a({link:Z.concat(X),cache:new O.a});var te=function(){return Object(y.jsxs)(x.a,{client:ee,children:[Object(y.jsxs)("div",{className:"d-flex flex-column justify-flex-start min-100-vh",children:[Object(y.jsx)("div",{children:Object(y.jsx)(R,{})}),Object(y.jsx)("div",{className:"container col-12 justify-content-center",children:Object(y.jsx)(b.c,{children:G.loggedIn()?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(b.a,{path:"/",element:Object(y.jsx)(T,{})}),Object(y.jsx)(b.a,{path:"/login",element:Object(y.jsx)(Q,{})}),Object(y.jsx)(b.a,{path:"/signup",element:Object(y.jsx)(K,{})})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(b.a,{path:"/",element:Object(y.jsx)(Q,{})}),Object(y.jsx)(b.a,{path:"/login",element:Object(y.jsx)(Q,{})}),Object(y.jsx)(b.a,{path:"/signup",element:Object(y.jsx)(K,{})})]})})})]}),Object(y.jsx)(W,{})]})};j.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(d.a,{basename:".",children:Object(y.jsx)(b.c,{children:Object(y.jsx)(b.a,{path:"*",element:Object(y.jsx)(te,{}),exact:!1,strict:!1})})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.5b777f02.chunk.js.map