(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{79:function(e,t,n){"use strict";n.r(t);var a,c,r,s,o=n(2),i=n.n(o),l=n(57),j=n.n(l),d=n(17),b=n(5),u=n(19),m=n(65),h=n(90),O=n(92),p=n(89),x=n(63),g=n(94),f=n(9),v=n(20),w=n(33),y=n(3);function k(e){return Math.floor(Math.random()*e)}var N=w.a.div(a||(a=Object(v.a)(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  top: ","px;\n  background: url('mvp.jfif');\n  background-repeat: no-repeat;\n  background-size: 60px 60px;\n  border-radius: 50%\n  "])),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.top})),S=w.a.div(c||(c=Object(v.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  & span{\n    color: white;\n    font-size: 24px;\n    position: absolute;\n  }\n  "]))),I=w.a.div(r||(r=Object(v.a)(["\n  height: ","px;\n  width: ","px;\n  background-color: cyan;\n  overflow: hidden;\n  "])),(function(e){return e.height}),(function(e){return e.width})),$=500,C=30;var E,F,z,U=function(){var e=Object(o.useState)(k(4)),t=Object(f.a)(e,2),n=t[0],a=t[1];Object(o.useEffect)((function(){setInterval((function(){return a(k(4))}),5e3)}),[]);var c=w.a.div(s||(s=Object(v.a)(["\n  position: relative;\n  top: ","px;  \n  background-repeat: no-repeat;\n  background: url('ta",".jfif');\n  background-size: 40px ;\n  width: ","px;\n  height: ","px;\n  left: ","px;\n"])),(function(e){return e.top}),n,(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.left})),r=Object(o.useState)(250),i=Object(f.a)(r,2),l=i[0],j=i[1],d=Object(o.useState)(!1),b=Object(f.a)(d,2),u=b[0],m=b[1],h=Object(o.useState)(200),O=Object(f.a)(h,2),p=O[0],x=O[1],g=Object(o.useState)(470),E=Object(f.a)(g,2),F=E[0],z=E[1],U=Object(o.useState)(-1),_=Object(f.a)(U,2),L=_[0],M=_[1],T=250-p;return Object(o.useEffect)((function(){var e;return u&&l<450&&(e=setInterval((function(){j((function(e){return e+6}))}),24)),function(){clearInterval(e)}}),[l,u]),Object(o.useEffect)((function(){var e;if(u&&F>=-30)return e=setInterval((function(){z((function(e){return e-5}))}),24),function(){clearInterval(e)};z(470),x(Math.floor(250*Math.random())),M((function(e){return e+1}))}),[u,F]),Object(o.useEffect)((function(){F>=0&&F<=C&&(l>=0&&l<p||l<=500&&l>=500-T)&&(m(!1),M(-1))}),[l,p,T,F,L]),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(S,{onClick:function(){var e=l-100;u?j(e<0?0:e):m(!0)},children:[Object(y.jsxs)(I,{height:$,width:500,children:[Object(y.jsx)(c,{top:0,width:C,height:p,left:F}),Object(y.jsx)(c,{top:$-(p+T),width:C,height:T,left:F}),Object(y.jsx)(N,{size:50,top:l})]}),Object(y.jsxs)("span",{children:[" ",L," "]})]})})},_=n(91),L=Object(_.a)(E||(E=Object(v.a)(["\n  query user($username: String!, $password: String!) {\n    user(username: $username, password: $password) {\n      _id\n      username\n      password\n    }\n  }\n"]))),M=function(){var e=Object(g.a)(L),t=e.loading,n=e.data;return console.log(n),Object(y.jsx)("main",{className:"d-flex col-12",children:t?Object(y.jsx)("div",{children:"Loading..."}):Object(y.jsx)("div",{className:"col-12",children:Object(y.jsx)(U,{})})})},T=n(27),B=n(38),D=n(25),Y=n(87),q=Object(_.a)(F||(F=Object(v.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),J=Object(_.a)(z||(z=Object(v.a)(["\n  mutation addUser(\n    $username: String!\n    $password: String!\n  ) {\n    addUser(\n      username: $username\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),P=n(61),A=n(62),H=n(47),V=n.n(H),G=new(function(){function e(){Object(P.a)(this,e)}return Object(A.a)(e,[{key:"getUser",value:function(){return V()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return V()(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),K=function(){var e=Object(o.useState)({username:"",password:""}),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(Y.a)(J),r=Object(f.a)(c,2),s=r[0],i=r[1],l=i.error,j=i.data,b=function(e){var t=e.target,c=t.name,r=t.value;a(Object(u.a)(Object(u.a)({},n),{},Object(D.a)({},c,r)))},m=function(){var e=Object(B.a)(Object(T.a)().mark((function e(t){var a,c;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s({variables:Object(u.a)({},n)});case 4:a=e.sent,c=a.data,G.login(c.addUser.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)("section",{className:" text-center text-lg-start",children:Object(y.jsx)("div",{className:"card mb-3",children:Object(y.jsxs)("div",{className:"row g-0 d-flex align-items-center",children:[Object(y.jsx)("div",{className:"col-lg-4 d-none d-lg-flex",children:Object(y.jsx)("img",{src:"https://image.shutterstock.com/image-vector/black-simple-finger-presses-on-260nw-618096680.jpg",alt:"Sign Up",className:"w-100 rounded-t-5 rounded-tr-lg-0 rounded-bl-lg-5"})}),Object(y.jsx)("div",{className:"col-lg-8",children:Object(y.jsxs)("div",{className:"card-body py-5 px-md-5",children:[j?Object(y.jsxs)("p",{children:["Success! You may now head"," ",Object(y.jsx)(d.b,{to:"/",children:"back to the homepage."})]}):Object(y.jsxs)("form",{onSubmit:m,children:[Object(y.jsxs)("div",{className:"form-outline mb-4",children:[Object(y.jsx)("input",{type:"text",placeholder:"Your username",name:"username",id:"username",className:"form-control",value:n.username,onChange:b}),Object(y.jsx)("label",{className:"form-label",htmlFor:"form2Example1",children:"Username"})]}),Object(y.jsxs)("div",{className:"form-outline mb-4",children:[Object(y.jsx)("input",{type:"password",name:"password",placeholder:"******",id:"password",className:"form-control",value:n.password,onChange:b}),Object(y.jsx)("label",{className:"form-label",htmlFor:"form2Example2",children:"Password"})]}),Object(y.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-4",style:{cursor:"pointer"},children:"Sign Up"})]}),l&&Object(y.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:l.message})]})})]})})})},Q=function(e){var t=Object(o.useState)({username:"",password:""}),n=Object(f.a)(t,2),a=n[0],c=n[1],r=Object(Y.a)(q),s=Object(f.a)(r,2),i=s[0],l=s[1],j=l.error,b=l.data,m=function(e){var t=e.target,n=t.name,r=t.value;c(Object(u.a)(Object(u.a)({},a),{},Object(D.a)({},n,r)))},h=function(){var e=Object(B.a)(Object(T.a)().mark((function e(t){var n,r;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i({variables:Object(u.a)({},a)});case 4:n=e.sent,r=n.data,G.login(r.login.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:c({username:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)("section",{className:" text-center text-lg-start",children:Object(y.jsx)("div",{className:"card mb-3",children:Object(y.jsxs)("div",{className:"row g-0 d-flex align-items-center",children:[Object(y.jsx)("div",{className:"col-lg-4 d-none d-lg-flex",children:Object(y.jsx)("img",{src:"https://www.goscience.eu/common/img/login.jpg",alt:"Login",className:"w-100 rounded-t-5 rounded-tr-lg-0 rounded-bl-lg-5"})}),Object(y.jsx)("div",{className:"col-lg-8",children:Object(y.jsxs)("div",{className:"card-body py-5 px-md-5",children:[b?Object(y.jsxs)("p",{children:["Success! You may now head"," ",Object(y.jsx)(d.b,{to:"/",children:"back to the homepage."})]}):Object(y.jsxs)("form",{onSubmit:h,children:[Object(y.jsxs)("div",{className:"form-outline mb-4",children:[Object(y.jsx)("input",{placeholder:"username",name:"username",type:"text",className:"form-control",id:"username",onChange:m}),Object(y.jsx)("label",{className:"form-label",htmlFor:"username",children:"Username"})]}),Object(y.jsxs)("div",{className:"form-outline mb-4",children:[Object(y.jsx)("input",{placeholder:"******",name:"password",type:"password",className:"form-control",id:"pwd",onChange:m}),Object(y.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"})]}),Object(y.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-4",style:{cursor:"pointer"},children:"Login"})]}),j&&Object(y.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:j.message})]})})]})})})},R=function(){return Object(y.jsx)("header",{className:"text-dark mb-4 py-3 display-flex align-center",style:{backgroundColor:"#87a833"},children:Object(y.jsxs)("div",{className:"container flex-column justify-space-between-lg justify-center align-center text-center",children:[Object(y.jsx)(d.b,{className:"text-dark",to:"/",children:Object(y.jsx)("h1",{className:"m-0",style:{fontSize:"3rem"},children:"Bootcamp Adventures"})}),Object(y.jsx)("div",{children:G.loggedIn()?Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("button",{className:"btn btn-lg btn-light m-2",onClick:function(e){e.preventDefault(),G.logout()},children:"Logout"})}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.b,{className:"btn btn-lg btn-primary m-2",to:"/login",children:"Login"}),Object(y.jsx)(d.b,{className:"btn btn-lg btn-light m-2",to:"/signup",children:"Signup"})]})})]})})},W=function(){return Object(y.jsx)("footer",{children:Object(y.jsx)("div",{className:"footer-copyright text-center py-3 ",children:"\xa9 2022 Copyright: Henry Nguyen, Chelsea Burnham, Sufyaan Vaidya"})})},X=Object(m.a)({uri:"/graphql"}),Z=Object(x.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(u.a)(Object(u.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),ee=new h.a({link:Z.concat(X),cache:new O.a});var te=function(){return Object(y.jsxs)(p.a,{client:ee,children:[Object(y.jsxs)("div",{className:"d-flex flex-column justify-flex-start min-100-vh",children:[Object(y.jsx)("div",{children:Object(y.jsx)(R,{})}),Object(y.jsx)("div",{className:"container col-12 justify-content-center",children:Object(y.jsx)(b.c,{children:G.loggedIn()?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(b.a,{path:"/",element:Object(y.jsx)(M,{})}),Object(y.jsx)(b.a,{path:"/login",element:Object(y.jsx)(Q,{})}),Object(y.jsx)(b.a,{path:"/signup",element:Object(y.jsx)(K,{})})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(b.a,{path:"/",element:Object(y.jsx)(Q,{})}),Object(y.jsx)(b.a,{path:"/login",element:Object(y.jsx)(Q,{})}),Object(y.jsx)(b.a,{path:"/signup",element:Object(y.jsx)(K,{})})]})})})]}),Object(y.jsx)(W,{})]})};j.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(d.a,{basename:"",children:Object(y.jsx)(b.c,{children:Object(y.jsx)(b.a,{path:"*",element:Object(y.jsx)(te,{}),exact:!1,strict:!1})})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.0a84a0ee.chunk.js.map